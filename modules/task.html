<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>task | actionhero</title><meta name="description" content="Documentation for actionhero"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">actionhero</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">actionhero</a></li><li><a href="task.html">task</a></li></ul><h1>Namespace task</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Interfaces</h3><ul class="tsd-index-list"><li class="tsd-kind-interface tsd-parent-kind-namespace"><a href="../interfaces/task.TaskMiddleware.html" class="tsd-kind-icon">Task<wbr/>Middleware</a></li></ul></section><section class="tsd-index-section "><h3>Functions</h3><ul class="tsd-index-list"><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#addMiddleware" class="tsd-kind-icon">add<wbr/>Middleware</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#allDelayed" class="tsd-kind-icon">all<wbr/>Delayed</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#allWorkingOn" class="tsd-kind-icon">all<wbr/>Working<wbr/>On</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#cleanOldWorkers" class="tsd-kind-icon">clean<wbr/>Old<wbr/>Workers</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#del" class="tsd-kind-icon">del</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#delByFunction" class="tsd-kind-icon">del<wbr/>By<wbr/>Function</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#delDelayed" class="tsd-kind-icon">del<wbr/>Delayed</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#delLock" class="tsd-kind-icon">del<wbr/>Lock</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#delQueue" class="tsd-kind-icon">del<wbr/>Queue</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#delayedAt" class="tsd-kind-icon">delayed<wbr/>At</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#details" class="tsd-kind-icon">details</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#enqueue" class="tsd-kind-icon">enqueue</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#enqueueAllRecurrentTasks" class="tsd-kind-icon">enqueue<wbr/>All<wbr/>Recurrent<wbr/>Tasks</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#enqueueAt" class="tsd-kind-icon">enqueue<wbr/>At</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#enqueueIn" class="tsd-kind-icon">enqueue<wbr/>In</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#enqueueRecurrentTask" class="tsd-kind-icon">enqueue<wbr/>Recurrent<wbr/>Task</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#failed" class="tsd-kind-icon">failed</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#failedCount" class="tsd-kind-icon">failed<wbr/>Count</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#locks" class="tsd-kind-icon">locks</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#queued" class="tsd-kind-icon">queued</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#removeFailed" class="tsd-kind-icon">remove<wbr/>Failed</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#retryAndRemoveFailed" class="tsd-kind-icon">retry<wbr/>And<wbr/>Remove<wbr/>Failed</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#scheduledAt" class="tsd-kind-icon">scheduled<wbr/>At</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#stats" class="tsd-kind-icon">stats</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#stopRecurrentTask" class="tsd-kind-icon">stop<wbr/>Recurrent<wbr/>Task</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#timestamps" class="tsd-kind-icon">timestamps</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#workers" class="tsd-kind-icon">workers</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#workingOn" class="tsd-kind-icon">working<wbr/>On</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Functions</h2><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="addMiddleware" class="tsd-anchor"></a><h3 class="tsd-anchor-link">add<wbr/>Middleware<a href="#addMiddleware" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">add<wbr/>Middleware<span class="tsd-signature-symbol">(</span>middleware<span class="tsd-signature-symbol">: </span><a href="../interfaces/task.TaskMiddleware.html" class="tsd-signature-type" data-tsd-kind="Interface">TaskMiddleware</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/actionhero/actionhero/blob/35b76ff/src/modules/task.ts#L432">src/modules/task.ts:432</a></li></ul></aside><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>middleware: <a href="../interfaces/task.TaskMiddleware.html" class="tsd-signature-type" data-tsd-kind="Interface">TaskMiddleware</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="allDelayed" class="tsd-anchor"></a><h3 class="tsd-anchor-link">all<wbr/>Delayed<a href="#allDelayed" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">all<wbr/>Delayed<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/actionhero/actionhero/blob/35b76ff/src/modules/task.ts#L263">src/modules/task.ts:263</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Return all delayed jobs, organized by the timestamp at where they are to run at.
Note: This is a very slow command.
Will throw an error if redis cannot be reached.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="allWorkingOn" class="tsd-anchor"></a><h3 class="tsd-anchor-link">all<wbr/>Working<wbr/>On<a href="#allWorkingOn" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">all<wbr/>Working<wbr/>On<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/actionhero/actionhero/blob/35b76ff/src/modules/task.ts#L291">src/modules/task.ts:291</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Return all workers and what job they might be working on.
Will throw an error if redis cannot be reached.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="cleanOldWorkers" class="tsd-anchor"></a><h3 class="tsd-anchor-link">clean<wbr/>Old<wbr/>Workers<a href="#cleanOldWorkers" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">clean<wbr/>Old<wbr/>Workers<span class="tsd-signature-symbol">(</span>age<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/actionhero/actionhero/blob/35b76ff/src/modules/task.ts#L334">src/modules/task.ts:334</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>If a worker process crashes, it will leave its state in redis as &quot;working&quot;.
You can remove workers from redis you know to be over, by specificizing an age which would make them too old to exist.
This method will remove the data created by a &#39;stuck&#39; worker and move the payload to the error queue.
However, it will not actually remove any processes which may be running.  A job <em>may</em> be running that you have removed.
Will throw an error if redis cannot be reached.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>age: <span class="tsd-signature-type">number</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="del" class="tsd-anchor"></a><h3 class="tsd-anchor-link">del<a href="#del" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">del<span class="tsd-signature-symbol">(</span>q<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, taskName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, args<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">TaskInputs</span>, count<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/actionhero/actionhero/blob/35b76ff/src/modules/task.ts#L129">src/modules/task.ts:129</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Delete a previously enqueued task, which hasn&#39;t been run yet, from a queue.
Will throw an error if redis cannot be reached.</p>
</div><div><p>Inputs:</p>
<ul>
<li>q: Which queue/priority is the task stored on?</li>
<li>taskName: The name of the job, likely to be the same name as a tak.</li>
<li>args: The arguments of the job.  Note, arguments passed to a Task initially may be modified when enqueuing.  It is best to read job properties first via <code>api.tasks.queued</code> or similar method.</li>
<li>count: Of the jobs that match q, taskName, and args, up to what position should we delete? (Default 0; this command is 0-indexed)</li>
</ul>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>q: <span class="tsd-signature-type">string</span></h5></li><li><h5>taskName: <span class="tsd-signature-type">string</span></h5></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> args: <span class="tsd-signature-type">TaskInputs</span></h5></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> count: <span class="tsd-signature-type">number</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="delByFunction" class="tsd-anchor"></a><h3 class="tsd-anchor-link">del<wbr/>By<wbr/>Function<a href="#delByFunction" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">del<wbr/>By<wbr/>Function<span class="tsd-signature-symbol">(</span>q<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, taskName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, start<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span>, stop<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/actionhero/actionhero/blob/35b76ff/src/modules/task.ts#L149">src/modules/task.ts:149</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<ul>
<li>will delete all jobs in the given queue of the named function/class</li>
<li>will not prevent new jobs from being added as this method is running</li>
<li>will not delete jobs in the delayed queues</li>
</ul>
</div><div><p>Inputs:</p>
<ul>
<li>q: Which queue/priority is to run on?</li>
<li>taskName: The name of the job, likely to be the same name as a tak.</li>
<li>start? - starting position of task count to remove</li>
<li>stop? - stop position of task count to remove</li>
</ul>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>q: <span class="tsd-signature-type">string</span></h5></li><li><h5>taskName: <span class="tsd-signature-type">string</span></h5></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> start: <span class="tsd-signature-type">number</span></h5></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> stop: <span class="tsd-signature-type">number</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="delDelayed" class="tsd-anchor"></a><h3 class="tsd-anchor-link">del<wbr/>Delayed<a href="#delDelayed" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">del<wbr/>Delayed<span class="tsd-signature-symbol">(</span>q<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, taskName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, inputs<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">TaskInputs</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/actionhero/actionhero/blob/35b76ff/src/modules/task.ts#L167">src/modules/task.ts:167</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Delete all previously enqueued tasks, which haven&#39;t been run yet, from all possible delayed timestamps.
Will throw an error if redis cannot be reached.</p>
</div><div><p>Inputs:</p>
<ul>
<li>q: Which queue/priority is to run on?</li>
<li>taskName: The name of the job, likely to be the same name as a tak.</li>
<li>inputs  The arguments of the job.  Note, arguments passed to a Task initially may be modified when enqueuing. It is best to read job properties first via <code>api.tasks.delayedAt</code> or similar method.</li>
</ul>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>q: <span class="tsd-signature-type">string</span></h5></li><li><h5>taskName: <span class="tsd-signature-type">string</span></h5></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> inputs: <span class="tsd-signature-type">TaskInputs</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="delLock" class="tsd-anchor"></a><h3 class="tsd-anchor-link">del<wbr/>Lock<a href="#delLock" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">del<wbr/>Lock<span class="tsd-signature-symbol">(</span>lock<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/actionhero/actionhero/blob/35b76ff/src/modules/task.ts#L238">src/modules/task.ts:238</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Delete a lock on a job or worker.  Locks can be found via <code>api.tasks.locks</code>
Will throw an error if redis cannot be reached.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>lock: <span class="tsd-signature-type">string</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="delQueue" class="tsd-anchor"></a><h3 class="tsd-anchor-link">del<wbr/>Queue<a href="#delQueue" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">del<wbr/>Queue<span class="tsd-signature-symbol">(</span>q<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/actionhero/actionhero/blob/35b76ff/src/modules/task.ts#L221">src/modules/task.ts:221</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Delete a queue in redis, and all jobs stored on it.
Will throw an error if redis cannot be reached.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>q: <span class="tsd-signature-type">string</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="delayedAt" class="tsd-anchor"></a><h3 class="tsd-anchor-link">delayed<wbr/>At<a href="#delayedAt" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">delayed<wbr/>At<span class="tsd-signature-symbol">(</span>timestamp<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/actionhero/actionhero/blob/35b76ff/src/modules/task.ts#L254">src/modules/task.ts:254</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Return all jobs which have been enqueued to run at a certain timestamp.
Will throw an error if redis cannot be reached.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>timestamp: <span class="tsd-signature-type">number</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="details" class="tsd-anchor"></a><h3 class="tsd-anchor-link">details<a href="#details" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">details<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>leader<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>queues<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol">; </span>stats<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol">; </span>workers<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/actionhero/actionhero/blob/35b76ff/src/modules/task.ts#L409">src/modules/task.ts:409</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Return wholistic details about the task system, including failures, queues, and workers.
Will throw an error if redis cannot be reached.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>leader<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>queues<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol">; </span>stats<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol">; </span>workers<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="enqueue" class="tsd-anchor"></a><h3 class="tsd-anchor-link">enqueue<a href="#enqueue" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">enqueue<span class="tsd-signature-symbol">(</span>taskName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, inputs<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TaskInputs</span>, queue<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/actionhero/actionhero/blob/35b76ff/src/modules/task.ts#L55">src/modules/task.ts:55</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Enqueue a task to be performed in the background.
Will throw an error if redis cannot be reached.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>taskName: <span class="tsd-signature-type">string</span></h5></li><li><h5>inputs: <span class="tsd-signature-type">TaskInputs</span></h5></li><li><h5>queue: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> = ...</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="enqueueAllRecurrentTasks" class="tsd-anchor"></a><h3 class="tsd-anchor-link">enqueue<wbr/>All<wbr/>Recurrent<wbr/>Tasks<a href="#enqueueAllRecurrentTasks" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">enqueue<wbr/>All<wbr/>Recurrent<wbr/>Tasks<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/actionhero/actionhero/blob/35b76ff/src/modules/task.ts#L361">src/modules/task.ts:361</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>This is run automatically at boot for all tasks which have a frequency, calling <code>api.tasks.enqueueRecurrentTask</code>
Will throw an error if redis cannot be reached.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="enqueueAt" class="tsd-anchor"></a><h3 class="tsd-anchor-link">enqueue<wbr/>At<a href="#enqueueAt" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">enqueue<wbr/>At<span class="tsd-signature-symbol">(</span>timestamp<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span>, taskName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, inputs<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TaskInputs</span>, queue<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span>, suppressDuplicateTaskError<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/actionhero/actionhero/blob/35b76ff/src/modules/task.ts#L74">src/modules/task.ts:74</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Enqueue a task to be performed in the background, at a certain time in the future.
Will throw an error if redis cannot be reached.</p>
</div><div><p>Inputs:</p>
<ul>
<li>taskName: The name of the task.</li>
<li>inputs: inputs to pass to the task.</li>
<li>queue: (Optional) Which queue/priority to run this instance of the task on.</li>
<li>suppressDuplicateTaskError: (optional) Suppress errors when the same task with the same arguments are double-enqueued for the same time</li>
</ul>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>timestamp: <span class="tsd-signature-type">number</span></h5></li><li><h5>taskName: <span class="tsd-signature-type">string</span></h5></li><li><h5>inputs: <span class="tsd-signature-type">TaskInputs</span></h5></li><li><h5>queue: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> = ...</span></h5></li><li><h5>suppressDuplicateTaskError: <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> = false</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="enqueueIn" class="tsd-anchor"></a><h3 class="tsd-anchor-link">enqueue<wbr/>In<a href="#enqueueIn" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">enqueue<wbr/>In<span class="tsd-signature-symbol">(</span>time<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span>, taskName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, inputs<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TaskInputs</span>, queue<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span>, suppressDuplicateTaskError<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/actionhero/actionhero/blob/35b76ff/src/modules/task.ts#L102">src/modules/task.ts:102</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Enqueue a task to be performed in the background, at a certain number of ms from now.
Will throw an error if redis cannot be reached.</p>
</div><div><p>Inputs:</p>
<ul>
<li>timestamp: At what time the task is able to be run.  Does not guarantee that the task will be run at this time. (in ms)</li>
<li>taskName: The name of the task.</li>
<li>inputs: inputs to pass to the task.</li>
<li>queue: (Optional) Which queue/priority to run this instance of the task on.</li>
<li>suppressDuplicateTaskError: (optional) Suppress errors when the same task with the same arguments are double-enqueued for the same time</li>
</ul>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>time: <span class="tsd-signature-type">number</span></h5></li><li><h5>taskName: <span class="tsd-signature-type">string</span></h5></li><li><h5>inputs: <span class="tsd-signature-type">TaskInputs</span></h5></li><li><h5>queue: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> = ...</span></h5></li><li><h5>suppressDuplicateTaskError: <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> = false</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="enqueueRecurrentTask" class="tsd-anchor"></a><h3 class="tsd-anchor-link">enqueue<wbr/>Recurrent<wbr/>Task<a href="#enqueueRecurrentTask" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">enqueue<wbr/>Recurrent<wbr/>Task<span class="tsd-signature-symbol">(</span>taskName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/actionhero/actionhero/blob/35b76ff/src/modules/task.ts#L343">src/modules/task.ts:343</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Ensures that a task which has a frequency is either running, or already enqueued.
This is run automatically at boot for all tasks which have a frequency, via <code>api.tasks.enqueueAllRecurrentTasks</code>.
Will throw an error if redis cannot be reached.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>taskName: <span class="tsd-signature-type">string</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="failed" class="tsd-anchor"></a><h3 class="tsd-anchor-link">failed<a href="#failed" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">failed<span class="tsd-signature-symbol">(</span>start<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span>, stop<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ParsedFailedJobPayload</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/actionhero/actionhero/blob/35b76ff/src/modules/task.ts#L307">src/modules/task.ts:307</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Retrieve the details of failed jobs between start and stop (0-indexed).
Will throw an error if redis cannot be reached.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>start: <span class="tsd-signature-type">number</span></h5></li><li><h5>stop: <span class="tsd-signature-type">number</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ParsedFailedJobPayload</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="failedCount" class="tsd-anchor"></a><h3 class="tsd-anchor-link">failed<wbr/>Count<a href="#failedCount" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">failed<wbr/>Count<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/actionhero/actionhero/blob/35b76ff/src/modules/task.ts#L299">src/modules/task.ts:299</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>How many jobs are in the failed queue.
Will throw an error if redis cannot be reached.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="locks" class="tsd-anchor"></a><h3 class="tsd-anchor-link">locks<a href="#locks" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">locks<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/actionhero/actionhero/blob/35b76ff/src/modules/task.ts#L230">src/modules/task.ts:230</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Return any locks, as created by resque plugins or task middleware, in this redis namespace.
Will contain locks with keys like <code>resque:lock:{job}</code> and <code>resque:workerslock:{workerId}</code>
Will throw an error if redis cannot be reached.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="queued" class="tsd-anchor"></a><h3 class="tsd-anchor-link">queued<a href="#queued" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">queued<span class="tsd-signature-symbol">(</span>q<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, start<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span>, stop<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">TaskInputs</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/actionhero/actionhero/blob/35b76ff/src/modules/task.ts#L209">src/modules/task.ts:209</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Retrieve the details of jobs enqueued on a certain queue between start and stop (0-indexed)
Will throw an error if redis cannot be reached.</p>
</div><div><p>Inputs:</p>
<ul>
<li>q      The name of the queue.</li>
<li>start  The index of the first job to return.</li>
<li>stop   The index of the last job to return.</li>
</ul>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>q: <span class="tsd-signature-type">string</span></h5></li><li><h5>start: <span class="tsd-signature-type">number</span></h5></li><li><h5>stop: <span class="tsd-signature-type">number</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">TaskInputs</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="removeFailed" class="tsd-anchor"></a><h3 class="tsd-anchor-link">remove<wbr/>Failed<a href="#removeFailed" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">remove<wbr/>Failed<span class="tsd-signature-symbol">(</span>failedJob<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">ErrorPayload</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/actionhero/actionhero/blob/35b76ff/src/modules/task.ts#L315">src/modules/task.ts:315</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Remove a specific job from the failed queue.
Will throw an error if redis cannot be reached.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>failedJob: <span class="tsd-signature-type">ErrorPayload</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="retryAndRemoveFailed" class="tsd-anchor"></a><h3 class="tsd-anchor-link">retry<wbr/>And<wbr/>Remove<wbr/>Failed<a href="#retryAndRemoveFailed" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">retry<wbr/>And<wbr/>Remove<wbr/>Failed<span class="tsd-signature-symbol">(</span>failedJob<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">ErrorPayload</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/actionhero/actionhero/blob/35b76ff/src/modules/task.ts#L323">src/modules/task.ts:323</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Remove a specific job from the failed queue, and retry it by placing it back into its original queue.
Will throw an error if redis cannot be reached.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>failedJob: <span class="tsd-signature-type">ErrorPayload</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="scheduledAt" class="tsd-anchor"></a><h3 class="tsd-anchor-link">scheduled<wbr/>At<a href="#scheduledAt" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">scheduled<wbr/>At<span class="tsd-signature-symbol">(</span>q<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, taskName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, inputs<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TaskInputs</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/actionhero/actionhero/blob/35b76ff/src/modules/task.ts#L184">src/modules/task.ts:184</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Return the timestamps a task is scheduled for.
Will throw an error if redis cannot be reached.</p>
</div><div><p>Inputs:</p>
<ul>
<li>q: Which queue/priority is to run on?</li>
<li>taskName: The name of the job, likely to be the same name as a tak.</li>
<li>inputs: The arguments of the job.  Note, arguments passed to a Task initially may be modified when enqueuing.  It is best to read job properties first via <code>api.tasks.delayedAt</code> or similar method.</li>
</ul>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>q: <span class="tsd-signature-type">string</span></h5></li><li><h5>taskName: <span class="tsd-signature-type">string</span></h5></li><li><h5>inputs: <span class="tsd-signature-type">TaskInputs</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="stats" class="tsd-anchor"></a><h3 class="tsd-anchor-link">stats<a href="#stats" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">stats<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/actionhero/actionhero/blob/35b76ff/src/modules/task.ts#L196">src/modules/task.ts:196</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Return all resque stats for this namespace (how jobs failed, jobs succeeded, etc)
Will throw an error if redis cannot be reached.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="stopRecurrentTask" class="tsd-anchor"></a><h3 class="tsd-anchor-link">stop<wbr/>Recurrent<wbr/>Task<a href="#stopRecurrentTask" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">stop<wbr/>Recurrent<wbr/>Task<span class="tsd-signature-symbol">(</span>taskName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/actionhero/actionhero/blob/35b76ff/src/modules/task.ts#L388">src/modules/task.ts:388</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Stop a task with a frequency by removing it from all possible queues.
Will throw an error if redis cannot be reached.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>taskName: <span class="tsd-signature-type">string</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="timestamps" class="tsd-anchor"></a><h3 class="tsd-anchor-link">timestamps<a href="#timestamps" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">timestamps<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/actionhero/actionhero/blob/35b76ff/src/modules/task.ts#L246">src/modules/task.ts:246</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>List all timestamps for which tasks are enqueued in the future, via <code>api.tasks.enqueueIn</code> or <code>api.tasks.enqueueAt</code>
Will throw an error if redis cannot be reached.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="workers" class="tsd-anchor"></a><h3 class="tsd-anchor-link">workers<a href="#workers" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">workers<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/actionhero/actionhero/blob/35b76ff/src/modules/task.ts#L272">src/modules/task.ts:272</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Return all workers registered by all members of this cluster.
Note: MultiWorker processors each register as a unique worker.
Will throw an error if redis cannot be reached.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="workingOn" class="tsd-anchor"></a><h3 class="tsd-anchor-link">working<wbr/>On<a href="#workingOn" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">working<wbr/>On<span class="tsd-signature-symbol">(</span>workerName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, queues<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/actionhero/actionhero/blob/35b76ff/src/modules/task.ts#L280">src/modules/task.ts:280</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>What is a given worker working on?  If the worker is idle, &#39;started&#39; will be returned.
Will throw an error if redis cannot be reached.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>workerName: <span class="tsd-signature-type">string</span></h5></li><li><h5>queues: <span class="tsd-signature-type">string</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Exports</a></li><li class=" tsd-kind-namespace"><a href="action.html">action</a></li><li class=" tsd-kind-namespace"><a href="cache.html">cache</a></li><li class=" tsd-kind-namespace"><a href="chatRoom.html">chat<wbr/>Room</a></li><li class=" tsd-kind-namespace"><a href="redis.html">redis</a></li><li class=" tsd-kind-namespace"><a href="route.html">route</a></li><li class=" tsd-kind-namespace"><a href="specHelper.html">spec<wbr/>Helper</a></li><li class="current tsd-kind-namespace"><a href="task.html">task</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-interface tsd-parent-kind-namespace"><a href="../interfaces/task.TaskMiddleware.html" class="tsd-kind-icon">Task<wbr/>Middleware</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#addMiddleware" class="tsd-kind-icon">add<wbr/>Middleware</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#allDelayed" class="tsd-kind-icon">all<wbr/>Delayed</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#allWorkingOn" class="tsd-kind-icon">all<wbr/>Working<wbr/>On</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#cleanOldWorkers" class="tsd-kind-icon">clean<wbr/>Old<wbr/>Workers</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#del" class="tsd-kind-icon">del</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#delByFunction" class="tsd-kind-icon">del<wbr/>By<wbr/>Function</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#delDelayed" class="tsd-kind-icon">del<wbr/>Delayed</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#delLock" class="tsd-kind-icon">del<wbr/>Lock</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#delQueue" class="tsd-kind-icon">del<wbr/>Queue</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#delayedAt" class="tsd-kind-icon">delayed<wbr/>At</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#details" class="tsd-kind-icon">details</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#enqueue" class="tsd-kind-icon">enqueue</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#enqueueAllRecurrentTasks" class="tsd-kind-icon">enqueue<wbr/>All<wbr/>Recurrent<wbr/>Tasks</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#enqueueAt" class="tsd-kind-icon">enqueue<wbr/>At</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#enqueueIn" class="tsd-kind-icon">enqueue<wbr/>In</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#enqueueRecurrentTask" class="tsd-kind-icon">enqueue<wbr/>Recurrent<wbr/>Task</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#failed" class="tsd-kind-icon">failed</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#failedCount" class="tsd-kind-icon">failed<wbr/>Count</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#locks" class="tsd-kind-icon">locks</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#queued" class="tsd-kind-icon">queued</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#removeFailed" class="tsd-kind-icon">remove<wbr/>Failed</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#retryAndRemoveFailed" class="tsd-kind-icon">retry<wbr/>And<wbr/>Remove<wbr/>Failed</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#scheduledAt" class="tsd-kind-icon">scheduled<wbr/>At</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#stats" class="tsd-kind-icon">stats</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#stopRecurrentTask" class="tsd-kind-icon">stop<wbr/>Recurrent<wbr/>Task</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#timestamps" class="tsd-kind-icon">timestamps</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#workers" class="tsd-kind-icon">workers</a></li><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="task.html#workingOn" class="tsd-kind-icon">working<wbr/>On</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>